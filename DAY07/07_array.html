<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>중요!!! 배열</title>
    </head>
    <body>
        <script>
            //5. Array 
            //배열만드는 방법은 두가지, new쓰거나 []쓰거나
            //이미 배열수업에 기본 사용법 소개
            var arr = new Array(10,20,30);

            //배열의 주요 기능 메소드들
            //1) 배열 붙이기 concat
            var arr1=[3,4,5]; //이걸 리터럴 배열이라고한다. 
            var arr2 = arr.concat(arr1); //원본은 안바뀐다. 즉 대입연산자로 리턴값을 툭하니 받는다.
            document.write(arr2+"</br>");
            document.write(arr+"</br>"); //원본은 안바뀐다.
            document.write(arr1+"</br>"); //원본은 안바뀐다. 

            //2) 특정요소값 위치찾기 - indexOf
            document.write(arr.indexOf()+"<br>"); //-1
            document.write(arr.indexOf(30)+"<br>");
            document.write(arr.indexOf(10,1)+"<br>"); //-1 : 배열의 1번방부터 검색시작하는 명령

            //3) push,pop [stack] 구조로 쓴다. 
            var stack = [1,2,3,4,5];
            document.write(stack+"<br>");
            stack.push(10);//새로운 값을 삽입. 마지막에 추가됨.
            document.write(stack+"<br>");
            stack.pop(); //가장 마지막 요소가 꺼내진다. 즉 배열의 길이가 바뀐다.



            //4) push,shift [queue] 구조로 쓴다. 
            var que = [1,2,3,4,5];  
            que.push(10); //새로운 데이터를 마지막에 삽입
            document.write(que+"<br>");
            que.shift(); //가장 처음에 저장된 요소값이 꺼내짐 
            document.write(que+"<br>");

            //5) sort 기능 (정렬기능) - 실제 요소들의 위치가 변경된다. 
            var arr = [3,5,4,8,9,1,6,7];
            arr.sort(); //실제 원본 위치가 변경됨
            document.write(arr+"<br>");

            //두자리 수 일때는..?
            arr=[3,1,15,48,754,1234,54,90]; 
            arr.sort();
            document.write(arr+"<br>"); //앞글자 한자리씩 비교한다. 크기비교가 아니다.

            //순서가 크기 순서가 아님. 데이터를 알파벳 순으로 오름차순 정렬.
            //그래서 ! 해결하려면 sort()의 파라미터를 전달해야함. 그 매개변수는 값이 아니라
            //'정렬 기준 함수'를 넣어줘야한다. 
            arr.sort(function(a,b){
                return a-b; //뺄샘의 결과가 음수이면 a가 작은거니까 그대로 둔다. 
            }); //오름차순 정렬기준 함수이다.
            document.write(arr+"<br>");

            //내림차순
            arr.sort(function(a,b){
                return b-a;
            }); 
            document.write(arr+"<br>");

            //알파벳문자는 기본 오름차순
            var arr=["abc","bbb","ccc","adrf","ddfe"];
            arr.sort();
            document.write(arr+"<br>");

            //알파벳의 내림차순은? sort안에 정렬 지정함수를 적어야한다. 
            var desc=function(a,b){
                if(a>b) return -1;
                if(b>a) return 1;
                return 0;
            }//이미 정해져있는 함수
            arr.sort(desc); 
            document.write(arr);

            //6) slice - 배열의 일부분을 잘라서 새로운 배열 리턴
            var arr= [10,20,30,40,50,60,70,80,90];
            var arr1 = arr.slice(3); //3번방부터 잘라서 새로운 배열로 만들어줘. 즉 원본은 안바뀜
            document.write(arr+"<br>");
            document.write(arr1+"<br>");

            var arr1 = arr.slice(3,6); //3번방부터 5번방까지
            document.write(arr+"<br>");
            document.write(arr1+"<br>");

            //7) join - 배열의 요소를 특정문자를 구분자로하여 하나의 문자열로 리턴해준다.
            //split의 정반대
            var arr = ["010","1234","5678"];
            var s = arr.join("-");
            document.write(s+"<br>");

            //8) 필터기능 - sort랑 비슷하다. 지정함수가 필요하다. 
            var arr = [1,2,3,4,5,2,6,-5,-7];
            //배열 요소들 중에서 3보다 큰 값들만 출력해보자
            var arr2 = arr.filter(function(e){ 
                return e>3 //이 조건이 true인 e를 새로운 배열에 추가하여 최종필터()의 리턴으로 배열을 내보낸다. 
            });
            document.write(arr+"<br>");
            document.write(arr2+"<br>");

            //요소의 값이 3보다 크고, index번호가 5이상인 요소들..
            var arr3 = arr.filter(function(e,index){
                return e>3 && index>=5
            })
            document.write(arr+"<br>");
            document.write(arr2+"<br>");
            document.write(arr3+"<br>");
            
            //9)reverse - 배열의 요소 순서를 뒤집는다. 원본의 실제 요소 위치가 변경된다. 
            var arr = ["aaa","bbb","ccc"];
            arr.reverse();
            document.write(arr+"<br>");

            ////////////////////////////////////////////////////////////////////////////////////////////
            
            //10)새로나옴 ! ECMAscript5에서 새로우 추가된 배열 기능메소드 
            document.write("<hr>");
            var aa = [10,20,30,40,50];
            //배열의 요소값에 각각 접근하는 반복문
            //for문을 쓰지 않아도 된다. 
            aa.forEach(function(e,index,array){

                //그냥 단순출력
                document.write("indec : "+index+" 요소 : "+e+"<br>");
            }); //각각에대하여 접근하자
            document.write("<hr>");

            //for each()와 구조적으로 똑같지만..
            //배열의 각 요소에 작업 후 새로운 배열을 만들어
            //리턴해주는 메소드
            var bb = aa.map(function(value,index,array){
                //연산 등 변형하여 출력가능
                return value+1; 
            }); //리턴값을 6번받는데 그럼 그걸 받을수있는 배열을 만들어서 받아야한다. 
            document.write(bb+"<br>");


        </script>
    </body>
</html>