<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>js dom control</title>
    </head>
    <body>
        <!-- 요소의 속성을 변경 -->

        <!-- 1. img요소의 src 속성을 변경해보자 -->
        <img src="./image/img001.jpg" alt="img001" width="300" id="aa">
        <button onclick="changeImage()">change image</button> 
        <!-- 버튼눌렀을때 발동해야한다 onclick -->
        <script>
            function changeImage(){
                document.getElementById("aa").src="./image/m_m03.jpg";
            }
        </script>
        <hr>
        <!-- 요소의 스타일 변경 : id가 아니라 DOM tree구조를 이용해서 요소 접근해보자-->
        <p id="p1">this is paragraph</p>
        <button onclick="clickBtn(this)">스타일 변경</button> 
        <!-- 여기서 this는 버튼 -->
        <script>
            function clickBtn(e){
                //여기서 e는 버튼 
                //클릭된 버튼의 앞 형제 요소를 찾기
                var p = e.previousElementSibling;
                p.style.color = "red";
                p.style.fontWeight = "bold";
                p.style.fontStyle = "italic"; //개별선택자가 우선적용된다.
                //인라인이 우선적용되서 밑에 통짜 class는 적용이 안됬다. 
            }
        </script>


        <!-- class속성을 이용하여 다중스타일 한방에 적용
             class:어떤요소에 그룹을 만들어줌 -->
        
        <style>
            .kk{
                color: blue;
                font-weight: bold;
                font-style: italic;
            }
        </style>
        <button onclick="clickBtn2()">클래스 속성으로 다중 스타일 한방에 변경</button>
        <script>
            function clickBtn2(){
                document.getElementById('p1').style="";
                document.getElementById('p1').className ="kk";
                //유별남 class가 아니라 className으로 적용해야함
            }
        </script>
        <hr>
        <h1>DOM 노드로 추가 삭제 해보기</h1>
        <!-- DOM노드의 동적인 추가와 삭제 -->
        <button onclick="addText()">텍스트 추가</button>
        <button onclick="addElement()">요소 추가</button>
        <button onclick="removeNode()">자식 노드 제거</button>
        <p id="pp"></p>

        <script>
            function addText(){
                // var node = document.createTextNode('this is test ');
                // var node = document.createTextNode("<a href=''> this is test </a>"); //이러면 텍스트로만 인식한다.
                // var pp = document.getElementById('pp')
                // pp.appendChild(node); //append는 계속 추가됨 

                //위 작업 (텍스트노트 추가)을 간략하게.. 하는 속성
                var pp = document.getElementById('pp').textContent+="<a href=''> this is test </a>";
                
            }

            function addElement(){  
                // var node = document.createElement('a');
                
                // //속성노드 추가
                // var attr = document.createAttribute('href');
                // attr.value = "https://www.google.com";
                // node.setAttributeNode(attr);

                // //엥커에 보여줄 text가 필요하다
                // var text = document.createTextNode("구글");
                // node.appendChild(text);

                // document.getElementById('pp').appendChild(node);
                //요소 추가를 한방에 축약형으로...
                document.getElementById('pp').innerHTML+="<a href=''> this is test </a>";
            }

            function removeNode(){
                var pp = document.getElementById('pp');
                pp.removeChild(pp.firstChild);
            }
        </script>
        <hr>

        <!-- JS에서 요소를 찾을때 CSS 선택자 문법을 이용하여 요소를 접근/ 아이디# 클래스. -->
        <h3 id="ee">Hello world</h3>
        <button onclick="aa()">버튼</button> 
        <!-- onclick에서 ()빼면 안돼  -->
        <script>
            function aa(){
                var e = document.querySelector('#ee'); //css문법의 id선택자
                e.innerHTML="nice to meet you";
                
            }
        </script>
        <hr>
        <h4>aaa</h4>
        <h4>bbb</h4>
        <h4>ccc</h4>
        <button onclick="bbb()">버튼</button>
        <script>
            function bbb(){
                //css선택자 중에서 여러 요소가 찾아지는 선택자들
                //class , tag, * 등 
                //타입 선택자로 여러 요소 참조 - 리턴은 배열
                es[0].innerHTML="good";
            }

            var es = document.querySelectorAll('h4'); 
            es[1].onclick = function(){
                alert('bbb');
            }
        </script>
    </body>
</html>